"use strict";(globalThis.webpackChunkai_native_textbook_platform=globalThis.webpackChunkai_native_textbook_platform||[]).push([[289],{578(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var r=i(4848),s=i(8453);const t={sidebar_position:9,title:"Chapter 9: Writing ROS 2 Nodes with Python (rclpy)"},l="Chapter 9: Writing ROS 2 Nodes with Python (rclpy)",a={id:"part1/writing_ros2_nodes_with_rclpy",title:"Chapter 9: Writing ROS 2 Nodes with Python (rclpy)",description:"Introduction",source:"@site/docs/part1/09_writing_ros2_nodes_with_rclpy.md",sourceDirName:"part1",slug:"/part1/writing_ros2_nodes_with_rclpy",permalink:"/ai-native-textbook-platform/ja/docs/part1/writing_ros2_nodes_with_rclpy",draft:!1,unlisted:!1,editUrl:"https://github.com/your-username/physical-ai-humanoid-robots/tree/main/packages/create-docusaurus/templates/shared/docs/part1/09_writing_ros2_nodes_with_rclpy.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9,title:"Chapter 9: Writing ROS 2 Nodes with Python (rclpy)"},sidebar:"tutorialSidebar",previous:{title:"Chapter 8: Services, Actions, and Parameters",permalink:"/ai-native-textbook-platform/ja/docs/part1/services_actions_and_parameters"},next:{title:"Chapter 10: URDF & Robot Description",permalink:"/ai-native-textbook-platform/ja/docs/part1/urdf_robot_description"}},o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Conceptual Foundations",id:"conceptual-foundations",level:2},{value:"Technical Explanation",id:"technical-explanation",level:2},{value:"Practical Examples",id:"practical-examples",level:2},{value:"System Integration Perspective",id:"system-integration-perspective",level:2},{value:"Diagram Placeholders",id:"diagram-placeholders",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"chapter-9-writing-ros-2-nodes-with-python-rclpy",children:"Chapter 9: Writing ROS 2 Nodes with Python (rclpy)"}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"Python provides an excellent interface for ROS 2 development through the rclpy library. This chapter covers creating ROS 2 nodes using Python, including best practices for robotics software development."}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Understand the rclpy library and its usage"}),"\n",(0,r.jsx)(n.li,{children:"Learn to create nodes with various communication patterns"}),"\n",(0,r.jsx)(n.li,{children:"Explore node lifecycle and management"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper error handling and logging"}),"\n",(0,r.jsx)(n.li,{children:"Recognize best practices for Python-based robotics software"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conceptual-foundations",children:"Conceptual Foundations"}),"\n",(0,r.jsx)(n.p,{children:"The rclpy library provides Python bindings for ROS 2, allowing developers to create ROS 2 nodes using Python. This provides a high-level, easy-to-use interface for robotics development while maintaining access to ROS 2's powerful communication and tooling features."}),"\n",(0,r.jsx)(n.p,{children:"Python nodes are ideal for rapid prototyping, scripting, and applications where development speed is more important than maximum performance. The language's rich ecosystem of libraries also makes it excellent for data processing and AI applications."}),"\n",(0,r.jsx)(n.h2,{id:"technical-explanation",children:"Technical Explanation"}),"\n",(0,r.jsx)(n.p,{children:"The rclpy library structure includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Initialization"}),": ",(0,r.jsx)(n.code,{children:"rclpy.init()"})," initializes the ROS client library"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node Creation"}),": ",(0,r.jsx)(n.code,{children:"rclpy.create_node()"})," creates a node instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spin Functions"}),": ",(0,r.jsx)(n.code,{children:"rclpy.spin()"})," processes callbacks and services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cleanup"}),": ",(0,r.jsx)(n.code,{children:"rclpy.shutdown()"})," cleans up resources"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Node components include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publishers"}),": Create publishers for topic communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscribers"}),": Create subscribers for receiving messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Services"}),": Create service servers and clients"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actions"}),": Create action servers and clients"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Timers"}),": Execute callbacks at regular intervals"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": Manage configuration parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,r.jsx)(n.p,{children:"Consider a complete publisher-subscriber example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    publisher = MinimalPublisher()\n    subscriber = MinimalSubscriber()\n\n    try:\n        rclpy.spin(subscriber)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        publisher.destroy_node()\n        subscriber.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:"This example shows a complete publisher-subscriber pair in Python."}),"\n",(0,r.jsx)(n.h2,{id:"system-integration-perspective",children:"System Integration Perspective"}),"\n",(0,r.jsx)(n.p,{children:"Python node integration involves:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance Considerations"}),": Understanding Python's performance characteristics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Threading Models"}),": Managing concurrency and callbacks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Management"}),": Proper cleanup and resource handling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"}),": Managing exceptions and node failures"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logging Integration"}),": Using ROS 2's logging system"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The integration must balance development speed with system requirements."}),"\n",(0,r.jsx)(n.h2,{id:"diagram-placeholders",children:"Diagram Placeholders"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Diagram showing the rclpy library architecture"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Illustration of ROS 2 node components"})}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"rclpy provides Python bindings for ROS 2"}),"\n",(0,r.jsx)(n.li,{children:"Python is excellent for rapid prototyping and scripting"}),"\n",(0,r.jsx)(n.li,{children:"Nodes include publishers, subscribers, services, and more"}),"\n",(0,r.jsx)(n.li,{children:"Proper error handling and resource management are essential"}),"\n",(0,r.jsx)(n.li,{children:"Integration must consider performance and resource usage"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a ROS 2 node that publishes robot joint states."}),"\n",(0,r.jsx)(n.li,{children:"Implement a subscriber node that processes sensor data and publishes control commands."}),"\n",(0,r.jsx)(n.li,{children:"Design a node with parameters for configuring robot behavior."}),"\n",(0,r.jsx)(n.li,{children:"Research and implement a multi-threaded ROS 2 node for handling multiple tasks."}),"\n",(0,r.jsx)(n.li,{children:"Create a complex node that combines multiple communication patterns."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);